<section class="hero-section">
    <div class="container">
        <h1>Fast and Easy Loans</h1>
        <p>Apply online and get approved within minutes. No hidden fees!</p>
        <a routerLink="/loans/newApplication" class="btn btn-primary btn-lg">Get Started</a>
    </div>
</section>

<section id="loanCalculator" class="loan-calculator container">
    <h2>Loan Calculator</h2>
    <form>
        <div class="mb-3">
            <label for="amount" class="form-label">Loan Amount (Rs.)</label>
            <input type="number" id="amount" class="form-control" [(ngModel)]="loanPrincipleAmount"
                name="loanPrincipleAmount" placeholder="Enter amount" />
        </div>
        <div class="mb-3">
            <label for="term" class="form-label">Interest Rate (%)</label>
            <input type="number" id="term" class="form-control" [(ngModel)]="loanAnnualInterest"
                name="loanAnnualInterest" placeholder="Enter annual rate (e.g., 7.5)" />
        </div>
        <div class="mb-3">
            <label for="term" class="form-label">Loan Term (months)</label>
            <input type="number" id="term" class="form-control" [(ngModel)]="loanTermInMonths" name="loanTermInMonths"
                placeholder="Enter months" />
        </div>
        <div class="loanCalculatorFooter">
            <button type="button" id="calculateLoan" data-bs-toggle="modal" data-bs-target="#calculateLoanModal"
                (click)="calculateLoan()" class="btn btn-success">Calculate</button>
            <button type="button" class="btn btn-danger" (click)="resetData()">
                <i class="fa fa-trash"></i>
            </button>
        </div>
    </form>
</section>

<section id="features" class="features">
    <div class="container">
        <h2>Why Choose Us?</h2>
        <div class="row text-center">
            <div class="col-md-4">
                <h3>Fast Approvals</h3>
                <p>Get your loan approved within minutes.</p>
            </div>
            <div class="col-md-4">
                <h3>Flexible Repayments</h3>
                <p>Choose repayment options that work for you.</p>
            </div>
            <div class="col-md-4">
                <h3>No Hidden Fees</h3>
                <p>Transparent and upfront about costs.</p>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="contact-us">
    <div class="container">
        <h2>Contact Us</h2>
        <p>We’d love to hear from you. Feel free to reach out to us for any queries or support.</p>
        <form>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="name" class="form-label contact-us-label">Your Name</label>
                        <input type="text" id="name" class="form-control" placeholder="Enter your name" />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="email" class="form-label contact-us-label">Email Address</label>
                        <input type="email" id="email" class="form-control" placeholder="Enter your email" />
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="message" class="form-label contact-us-label">Your Message</label>
                <textarea id="message" class="form-control" rows="4" placeholder="Type your message here"></textarea>
            </div>
            <button type="submit" class="btn btn-secondary">Send Message</button>
        </form>
    </div>
</section>

<!-- Calculate Loan Modal Structure -->
<div class="modal fade" id="calculateLoanModal" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false"
    tabindex="-1" aria-labelledby="calculateLoanModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Calculation Results</h4>
                <button type="button" class="btn-close" aria-label="Close" data-bs-dismiss="modal"
                    style="cursor:pointer;">&times;</button>
            </div>
            <div class="modal-body">
                <h5>Calculation Method Used</h5>
                <p><strong>Formula:</strong>
                    <code> Monthly Payment = (P × r) / (1 - (1 + r)<sup>-n</sup>)</code>
                </p>
                <h5 class="mt-4">Loan Details</h5>
                <table>
                    <tbody>
                        <tr>
                            <td><strong>Loan Amount (P):</strong></td>
                            <td> ₹ {{ loanPrincipleAmount }}</td>
                        </tr>
                        <tr>
                            <td><strong>Interest Rate (r):</strong></td>
                            <td> {{ loanAnnualInterest }} %</td>
                        </tr>
                        <tr>
                            <td><strong>Loan Term (n):</strong></td>
                            <td> {{ loanTermInMonths }} months</td>
                        </tr>
                    </tbody>
                </table>
                <div style="display: flex;" class="mt-4">
                    <h5 style="margin-right: 10px;">EMI Amount:</h5>
                    <h4><strong>₹{{ emiAmount | number:'1.2-2' }}</strong></h4>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-dark" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>